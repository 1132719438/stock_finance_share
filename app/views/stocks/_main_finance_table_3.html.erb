<!-- 1.所有的数据,都需要判断其数量,以便填充表格时能够确保样式和对应数据的准确性 -->

<div>
  <table class="table table-striped table-bordered">
    <tr class="theader-style">
      <% if time == 5 %>
        <td align=left width = "35%">资产负债比率(占总资产%)</td>
        <% m = @stock.quarter_years(1, 0).reverse.size %>
        <% (1..time - m).each do |i| %>
          <td align=center>无统计</td>
        <% end %>
        <% @stock.quarter_years(1, 0)[0..4].reverse.each do |i| %>
          <td align=center width = "13%"><%= i[0..3] %></td>
        <% end %>
      <% elsif time == 10 %>
        <td align=left width = "30%">资产负债比率(占总资产%)</td>
        <% m = @stock.quarter_years(1, 0).reverse.size %>
        <% (1..time - m).each do |i| %>
          <td align=center>无统计</td>
        <% end %>
        <% @stock.quarter_years(1, 0)[0..9].reverse.each do |i| %>
          <td align=center width = "7%"><%= i[0..3] %></td>
        <% end %>
      <% elsif time == 2 %>
        <td align=left width = "55%">资产负债比率(占总资产%)</td>
        <% m = @stock.quarter_years(1, 0).reverse.size %>
        <% (1..time - m).each do |i| %>
          <td align=center>无统计</td>
        <% end %>
        <% @stock.quarter_recent(1, 0).reverse.each do |i| %>
          <td align=center width = "20%"><%= i %></td>
        <% end %>
      <% end %>
    </tr>

    <tr>
      <td align=left>营业活动现金流量</td>
      <% m = @stock.net_cash_flow_of_business_activities(time).reverse.size %>
      <% (1..time - m).each do |i| %>
        <td align=center>无统计</td>
      <% end %>
      <% @stock.net_cash_flow_of_business_activities(time).reverse.each do |i| %>
        <td><%= i %></td>
      <% end %>
    </tr>

    <tr>
      <td align=left>投资活动现金流量</td>
      <% m = @stock.net_investment_activities_generated_cash_flow(time).reverse.size %>
      <% (1..time - m).each do |i| %>
        <td align=center>无统计</td>
      <% end %>
      <% @stock.net_investment_activities_generated_cash_flow(time).reverse.each do |i| %>
        <td><%= i %></td>
      <% end %>
    </tr>

    <tr>
      <td align=left>筹资活动现金流量</td>
      <% m = @stock.net_financing_activities_generated_cash_flow(time).reverse.size %>
      <% (1..time - m).each do |i| %>
        <td align=center>无统计</td>
      <% end %>
      <% @stock.net_financing_activities_generated_cash_flow(time).reverse.each do |i| %>
        <td><%= i %></td>
      <% end %>
    </tr>

  </table>
</div>
