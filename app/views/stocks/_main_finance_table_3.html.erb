<!-- 1.所有的数据,都需要判断其数量,以便填充表格时能够确保样式和对应数据的准确性 -->

<div>
  <table class="table table-striped table-bordered">
    <!-- <tr class="theader-style">
      <% if time == 5 %>
        <td align=left width = "35%">现金流量(百万元)</td>
        <% m = @stock.quarter_years(1, 0).reverse.size %>
        <% (1..time - m).each do |i| %>
          <td align=center>无统计</td>
        <% end %>
        <% @stock.quarter_years(1, 0)[0..4].reverse.each do |i| %>
          <td align=center width = "13%"><%= i[0..3] %></td>
        <% end %>
      <% elsif time == 10 %>
        <td align=left width = "30%">现金流量(百万元)</td>
        <% m = @stock.quarter_years(1, 0).reverse.size %>
        <% (1..time - m).each do |i| %>
          <td align=center>无统计</td>
        <% end %>
        <% @stock.quarter_years(1, 0)[0..9].reverse.each do |i| %>
          <td align=center width = "7%"><%= i[0..3] %></td>
        <% end %>
      <% elsif time == 2 %>
        <td align=left width = "55%">现金流量(百万元)</td>
        <% m = @stock.quarter_years(1, 0).reverse.size %>
        <% (1..time - m).each do |i| %>
          <td align=center>无统计</td>
        <% end %>
        <% @stock.quarter_recent(1, 0).reverse.each do |i| %>
          <td align=center width = "20%"><%= i %></td>
        <% end %>
      <% end %>
    </tr> -->

    <tr data-toggle="modal" data-target="#momal-net-cash-flow-of-business-activities">
      <% if time == 5 %>
        <td align=left width = "35%">营业活动现金流量(百万元)</td>
        <% m = static_data[24].reverse.size %>
        <% (1..time - m).each do |i| %>
          <td align=center>无统计</td>
        <% end %>
        <% static_data[24].reverse.each do |i| %>
          <td width = "13%"><%= i %></td>
        <% end %>
      <% elsif time == 10 %>
        <td align=left width = "30%">营业活动现金流量(百万元)</td>
        <% m = static_data[24].reverse.size %>
        <% (1..time - m).each do |i| %>
          <td align=center>无统计</td>
        <% end %>
        <% static_data[24].reverse.each do |i| %>
          <td width = "7%"><%= i %></td>
        <% end %>
      <% elsif time == 2 %>
        <td align=left width = "55%">营业活动现金流量(百万元)</td>
        <% m = static_data[24].reverse.size %>
        <% (1..time - m).each do |i| %>
          <td align=center>无统计</td>
        <% end %>
        <% static_data[24].reverse.each do |i| %>
          <td width = "20%"><%= i %></td>
        <% end %>
      <% end %>
    </tr>

    <tr data-toggle="modal" data-target="#momal-net-investment-activities-generated-cash-flow">
      <td align=left>投资活动现金流量(百万元)</td>
      <% m = static_data[25].reverse.size %>
      <% (1..time - m).each do |i| %>
        <td align=center>无统计</td>
      <% end %>
      <% static_data[25].reverse.each do |i| %>
        <td><%= i %></td>
      <% end %>
    </tr>

    <tr data-toggle="modal" data-target="#momal-net-financing-activities-generated-cash-flow">
      <td align=left>筹资活动现金流量(百万元)</td>
      <% m = static_data[26].reverse.size %>
      <% (1..time - m).each do |i| %>
        <td align=center>无统计</td>
      <% end %>
      <% static_data[26].reverse.each do |i| %>
        <td><%= i %></td>
      <% end %>
    </tr>

  </table>
</div>

<% if current_user && ( current_user.role == "member" || current_user.role == "admin" ) %>
  <%= render :partial => "main_finance_table_modal_3", :locals => { :static_data => static_data, :time => time } %>
<% end %>
